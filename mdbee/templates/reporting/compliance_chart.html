{% load reporting_extras %}
{% load static %}
<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>Django Highcharts Example</title>
</head>
<style>
  ::-webkit-scrollbar {
    display: none;
}
div {
    min-height: 1000px
  }
  
</style>
<body>
  <div id="container"></div>
  <script src="https://code.highcharts.com/highcharts.src.js"></script>
<script src="https://code.highcharts.com/modules/xrange.js"></script>
  <script>
    let date_from = "{{ date_from }}"
    let date_to = "{{ date_to }}"
    Highcharts.chart('container', {
                "title": false,
                "credits": {
                    "enabled": false,
                },
                "legend": {
                    "enabled": false,
                },
                "chart": {
                    "type": 'xrange',
                    "height": {{ chart_height }},
                },
                "plotOptions": {
                    "xrange": {"color": "#008000"},
                },
                "exporting": {
                    "scale": 1,
                "tableCaption": false,
                "enabled": true,
                },
                "xAxis": {
                    "type": 'category',
                    "categories": [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24],
                    "min": 0,
                    "max": 24,
                    
                },
                "yAxis": [
                    {
                        "title": {
                            "text": ''
                        },
                        "categories": {{ categories_1 | safe }},
                        "reversed": true,
                        "gridLineWidth": 0,
                        "min":0,
                        "max": {{ max_limit }},
                        "labels": {
                      formatter: function () {
                          if (date_from == this.value || date_to == this.value) {
                              return '<span style="fill: red; font-weight:bold;">' + this.value + '</span>';
                          } else {
                              return this.value;
                          }
                      }
                  }
                    },
                    {
                        "title": {
                            "text": 'Hour:minutes'
                        },
                        "categories": {{ duration_per_date | safe }},
                        "reversed": true,
                        "max": {{ max_limit }},
                         "opposite": true,
                    }
                ],
                "series": [
                {
                    "opacity": 0,
                    "animation": false,
                    "borderColor": 'gray',
                    "type": 'xrange',
                    "pointWidth": 15,
                    "data": {{ data | safe }},
                    "dataLabels": {
                      "enabled": false,
                    },
                    "yAxis":0,
                    "visible": false
                  },
                  {
                    "visible": true,
                    "opacity": 1,
                    "animation": false,
                    "type": 'xrange',
                    "pointWidth": 15,
                    "data": {{ data | safe }},
                    "dataLabels": {
                      "enabled": true,
                    },
                    "yAxis":1
                  },]
        
        })
  </script>
</body>
</html>